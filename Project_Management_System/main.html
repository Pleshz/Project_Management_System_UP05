<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/style.css" />
    <link rel="stylesheet" href="styles/sidebar.css">
    <title>Project Manager</title>
</head>
<body>
<div class="main-root-layout">
  <aside class="icon-sidebar">
    <nav class="icon-sidebar-nav sidebar-nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
      <ul>
        <li class="sidebar-btn active" data-section="profile" aria-label="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç" title="–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"><span class="nav-icon">üë§</span></li>
        <li class="sidebar-btn" data-section="projects" aria-label="–ü—Ä–æ–µ–∫—Ç—ã" title="–ü—Ä–æ–µ–∫—Ç—ã"><span class="nav-icon">üìÅ</span></li>
        <li class="sidebar-btn" data-section="tasks" aria-label="–ú–æ–∏ –∑–∞–¥–∞—á–∏" title="–ú–æ–∏ –∑–∞–¥–∞—á–∏"><span class="nav-icon">üìù</span></li>
        <li class="sidebar-btn" data-section="extra" aria-label="–ß—Ç–æ-—Ç–æ –µ—â—ë" title="–ß—Ç–æ-—Ç–æ –µ—â—ë"><span class="nav-icon">‚ö°</span></li>
      </ul>
    </nav>
    <div class="icon-sidebar-bottom">
      <button class="sidebar-btn theme-btn" id="theme-btn-sidebar" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"><span class="theme-icon">üåô</span></button>
    </div>
  </aside>
  <main class="main-content" id="app-content">
    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
  </main>
</div>


<div id="modal-project" class="modal-overlay" style="display:none;">
  <div class="modal-window">
    <form id="project-form">
      <div class="modal-header">
        <span class="modal-icon">üìã</span>
        <span class="modal-title" id="project-form-title">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</span>
      </div>
      <div class="input-group">
        <label for="proj-name">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
        <input type="text" id="proj-name" name="proj-name" required placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" />
      </div>
      <div class="input-group">
        <label for="proj-desc">–û–ø–∏—Å–∞–Ω–∏–µ</label>
        <textarea id="proj-desc" name="proj-desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" rows="3"></textarea>
      </div>
      <div class="input-group">
        <label for="proj-public">–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞</label>
        <select id="proj-public" name="proj-public" required>
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
          <option value="–û—Ç–∫—Ä—ã—Ç—ã–π">–û—Ç–∫—Ä—ã—Ç—ã–π</option>
          <option value="–ó–∞–∫—Ä—ã—Ç—ã–π">–ó–∞–∫—Ä—ã—Ç—ã–π</option>
        </select>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn mini" id="project-cancel">–û—Ç–º–µ–Ω–∞</button>
        <button type="submit" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </form>
  </div>
</div>

<script src="js/app.js"></script>
<script>
(function() {
  const navBtns = document.querySelectorAll('.sidebar-nav .sidebar-btn[data-section]');
  const appContent = document.getElementById('app-content');

  function filterTasksKanban(query) {
    // ids –∫–æ–ª–æ–Ω–æ–∫
    const ids = ['tasks-new', 'tasks-inprogress', 'tasks-review', 'tasks-done'];
    ids.forEach(colId => {
      const col = document.getElementById(colId);
      if (!col) return;
      const cards = col.children;
      for (let i = 0; i < cards.length; i++) {
        const cardText = cards[i].innerText || cards[i].textContent || '';
        if (!query || cardText.toLowerCase().includes(query.toLowerCase())) {
          cards[i].style.display = '';
        } else {
          cards[i].style.display = 'none';
        }
      }
    });
  }

  function setActiveSection(section) {
    navBtns.forEach(btn => btn.classList.toggle('active', btn.dataset.section === section));
    if (section === 'profile') {
      appContent.innerHTML = `
        <div class="profile-cover-block">
          <div class="profile-cover-bg"></div>
          <div class="profile-cover-content"></div>
          <div class="profile-main-card profile-main-card--edit">
            <div class="profile-main profile-main--split">
              <div class="profile-main-left">
                <div class="profile-avatar-wrap"><span class="profile-avatar">üë®‚Äçüíº</span></div>
                <div class="profile-main-info">
                  <div class="profile-main-username">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</div>
                  <div class="profile-main-email">ivan.ivanov@mail.ru</div>
                  <div class="profile-main-meta">–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞</div>
                  <div class="profile-main-meta">+7 999 888-77-66</div>
                </div>
              </div>
              <div class="profile-main-right">
                <form class="profile-edit-form" autocomplete="off" onsubmit="return false;">
                  <label>–§–ò–û <input type="text" class="input-field" value="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"></label>
                  <label>Email <input type="email" class="input-field" value="ivan.ivanov@mail.ru"></label>
                  <label>–î–æ–ª–∂–Ω–æ—Å—Ç—å <input type="text" class="input-field" value="–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞"></label>
                  <label>–¢–µ–ª–µ—Ñ–æ–Ω <input type="tel" class="input-field" value="+7 999 888-77-66"></label>
                  <div class="profile-edit-actions">
                    <button class="btn edit-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</button>
                    <button class="btn edit-delete" type="button">–£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                    <button class="btn edit-logout" type="button">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      `;
    } else if (section === 'projects') {
      appContent.innerHTML = `
        <section class="projects section active">
          <h2>–ü—Ä–æ–µ–∫—Ç—ã</h2>
          <div class="table-block">
            <table>
              <thead>
                <tr><th>–ù–∞–∑–≤–∞–Ω–∏–µ</th><th>–¢–∏–ø</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</th></tr>
              </thead>
              <tbody><!-- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ --></tbody>
            </table>
            <button class="btn primary" style="margin-top:1.3em;">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
          </div>
        </section>
      `;
    } else if (section === 'tasks') {
      appContent.innerHTML = `
        <section class="tasks section active">
          <h2>–ú–æ–∏ –∑–∞–¥–∞—á–∏</h2>
          <div class="task-search-bar">
            <input type="text" id="kanban-search" placeholder="–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á..." class="kanban-search">
            <button class="btn search-btn" id="kanban-search-btn" title="–ù–∞–π—Ç–∏ –∑–∞–¥–∞—á—É"><span class="search-icon">üîç</span></button>
          </div>
          <button class="btn primary" id="add-task-btn" style="margin-bottom:1.4em;">–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</button>
          <div class="kanban-board">
            <div class="kanban-col" data-status="new">
              <div class="kanban-col-title">–ù–æ–≤—ã–µ</div>
              <div class="kanban-cards" id="tasks-new"><!-- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ --></div>
            </div>
            <div class="kanban-col" data-status="inprogress">
              <div class="kanban-col-title">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>
              <div class="kanban-cards" id="tasks-inprogress"></div>
            </div>
            <div class="kanban-col" data-status="review">
              <div class="kanban-col-title">–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å</div>
              <div class="kanban-cards" id="tasks-review"></div>
            </div>
            <div class="kanban-col" data-status="done">
              <div class="kanban-col-title">–ì–æ—Ç–æ–≤–æ</div>
              <div class="kanban-cards" id="tasks-done"></div>
            </div>
          </div>
        </section>
      `;
      setTimeout(function() {
        const searchInput = document.getElementById('kanban-search');
        const searchBtn = document.getElementById('kanban-search-btn');
        if (searchInput && searchBtn) {
          searchBtn.onclick = function() {
            filterTasksKanban(searchInput.value.trim());
          };
          searchInput.addEventListener('keyup', function(e) {
            if (e.key === 'Enter') searchBtn.click();
          });
        }
      }, 50);
    } else if (section === 'extra') {
      appContent.innerHTML = `
        <section class="other section active">
          <h2>–ß—Ç–æ-—Ç–æ –µ—â—ë</h2>
          <p>–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω.</p>
        </section>
      `;
    }
  }
  navBtns.forEach(btn => {
    btn.addEventListener('click', () => setActiveSection(btn.dataset.section));
  });
  setActiveSection('profile');
})();
</script>
</body>
</html>
